<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Final Project I2C: src/Source_Files/si7021.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Final Project I2C
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2855980263c52be09af3085e80bd06a7.html">Source_Files</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">si7021.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>si7021 implementation file  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;si7021.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac5cc7d71b3f6518c327b87578f8b582"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="si7021_8c.html#aac5cc7d71b3f6518c327b87578f8b582">si7021_i2c_open</a> ()</td></tr>
<tr class="memdesc:aac5cc7d71b3f6518c327b87578f8b582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens si7021 i2c peripheral.  <a href="si7021_8c.html#aac5cc7d71b3f6518c327b87578f8b582">More...</a><br /></td></tr>
<tr class="separator:aac5cc7d71b3f6518c327b87578f8b582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e70976384abceee0cd852c8b00e125"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="si7021_8c.html#a42e70976384abceee0cd852c8b00e125">si7021_read</a> (uint32_t event_cb, uint32_t byte_length, uint32_t register_address)</td></tr>
<tr class="memdesc:a42e70976384abceee0cd852c8b00e125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an i2c read from the si7021.  <a href="si7021_8c.html#a42e70976384abceee0cd852c8b00e125">More...</a><br /></td></tr>
<tr class="separator:a42e70976384abceee0cd852c8b00e125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdea8140e792e5a526edaa6d592e3ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="si7021_8c.html#a7cdea8140e792e5a526edaa6d592e3ce">si7021_write</a> (uint32_t event_cb, uint32_t byte_length, uint32_t register_address)</td></tr>
<tr class="memdesc:a7cdea8140e792e5a526edaa6d592e3ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an i2c write to the si7021.  <a href="si7021_8c.html#a7cdea8140e792e5a526edaa6d592e3ce">More...</a><br /></td></tr>
<tr class="separator:a7cdea8140e792e5a526edaa6d592e3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d794314e386bdfa743b6fd45c9accf9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="si7021_8c.html#a9d794314e386bdfa743b6fd45c9accf9">si7021_temperatureF</a> ()</td></tr>
<tr class="memdesc:a9d794314e386bdfa743b6fd45c9accf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts read data to temperature in.  <a href="si7021_8c.html#a9d794314e386bdfa743b6fd45c9accf9">More...</a><br /></td></tr>
<tr class="separator:a9d794314e386bdfa743b6fd45c9accf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18aaf3d7d79671c570e559edd4633344"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="si7021_8c.html#a18aaf3d7d79671c570e559edd4633344">si7021_rh</a> ()</td></tr>
<tr class="memdesc:a18aaf3d7d79671c570e559edd4633344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts read data to relative humidity percentage.  <a href="si7021_8c.html#a18aaf3d7d79671c570e559edd4633344">More...</a><br /></td></tr>
<tr class="separator:a18aaf3d7d79671c570e559edd4633344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4e7c85d8237bbb9a7f9e3d7f9db195"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="si7021_8c.html#aec4e7c85d8237bbb9a7f9e3d7f9db195">si7021_test</a> ()</td></tr>
<tr class="memdesc:aec4e7c85d8237bbb9a7f9e3d7f9db195"><td class="mdescLeft">&#160;</td><td class="mdescRight">SI7021 test will test out the functionality of multiple and single byte operations of I2C Serial Communication. It tests by reading and writing multiple and single bits of the user register 1 and the temperature reading functionality of the SI7021.  <a href="si7021_8c.html#aec4e7c85d8237bbb9a7f9e3d7f9db195">More...</a><br /></td></tr>
<tr class="separator:aec4e7c85d8237bbb9a7f9e3d7f9db195"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad221aadda4b689a96533781999bd9ac4"><td class="memItemLeft" align="right" valign="top"><a id="ad221aadda4b689a96533781999bd9ac4"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>si7021_i2c_rx_data</b></td></tr>
<tr class="separator:ad221aadda4b689a96533781999bd9ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcead6bd6b0a8fe5eb8dd1758d20a8f"><td class="memItemLeft" align="right" valign="top"><a id="aedcead6bd6b0a8fe5eb8dd1758d20a8f"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>si7021_i2c_tx_data</b></td></tr>
<tr class="separator:aedcead6bd6b0a8fe5eb8dd1758d20a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>si7021 implementation file </p>
<dl class="section author"><dt>Author</dt><dd>Ivan Rodriguez </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 2nd, 2020 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aac5cc7d71b3f6518c327b87578f8b582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5cc7d71b3f6518c327b87578f8b582">&#9670;&nbsp;</a></span>si7021_i2c_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void si7021_i2c_open </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens si7021 i2c peripheral. </p>
<p>This function will setup the si7021 for i2c communication</p>
<dl class="section note"><dt>Note</dt><dd>To switch to a different I2C peripheral, change the SI7021_I2C value defined in the header file </dd></dl>

</div>
</div>
<a id="a42e70976384abceee0cd852c8b00e125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e70976384abceee0cd852c8b00e125">&#9670;&nbsp;</a></span>si7021_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void si7021_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>event_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>register_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an i2c read from the si7021. </p>
<p>This function will start i2c communication between the master (PG12) and the SI7021. This function is setup for read operations</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event_cb</td><td>event to be added to the scheduler upon completion of i2c operation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">byte_length</td><td>amount of bytes for operation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">register_address</td><td>Register to be accessed in i2c operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a18aaf3d7d79671c570e559edd4633344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18aaf3d7d79671c570e559edd4633344">&#9670;&nbsp;</a></span>si7021_rh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float si7021_rh </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts read data to relative humidity percentage. </p>
<p>This function will convert the private si7021_i2c_rx_data variable passed into i2c_start function into a RH percentage. It uses the algorithm mentioned in the si7021's data sheet to convert into a proper percentage. </p>

</div>
</div>
<a id="a9d794314e386bdfa743b6fd45c9accf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d794314e386bdfa743b6fd45c9accf9">&#9670;&nbsp;</a></span>si7021_temperatureF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float si7021_temperatureF </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts read data to temperature in. </p>
<p>This function will convert the private si7021_i2c_rx_data variable passed into i2c_start function into a fahrenheit value. It uses the algorithm mentioned in the si7021's data sheet to convert into celsius first. That value is then converted into fahrenheit. </p>

</div>
</div>
<a id="aec4e7c85d8237bbb9a7f9e3d7f9db195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec4e7c85d8237bbb9a7f9e3d7f9db195">&#9670;&nbsp;</a></span>si7021_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool si7021_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SI7021 test will test out the functionality of multiple and single byte operations of I2C Serial Communication. It tests by reading and writing multiple and single bits of the user register 1 and the temperature reading functionality of the SI7021. </p>
<p>This function will access both the temperature and user 1 registers to perform both read and write operations. First, it will read user register 1 to verify that it is set in it's default state at boot up. It will then change resolution of the temperature read register to 13 bit from 12 bit. Lastly, it will then ensure that the temperature read operation still functions.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns bool true if successfully passed through the TDD tests in this function </dd></dl>

</div>
</div>
<a id="a7cdea8140e792e5a526edaa6d592e3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdea8140e792e5a526edaa6d592e3ce">&#9670;&nbsp;</a></span>si7021_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void si7021_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>event_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>register_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an i2c write to the si7021. </p>
<p>This function will start i2c communication between the master (PG12) and the SI7021. This function is setup for write operations</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event_cb</td><td>event to be added to the scheduler upon completion of i2c operation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">byte_length</td><td>amount of bytes for operation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">register_address</td><td>Register to be accessed in i2c operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
